{
    "title": "Experiment",
    "definitions": {
        "Links": {
            "$id": "#/definitions/Links",
            "title": "Link Type",
            "oneOf": [
                {
                    "$ref": "#/definitions/xrefLink"
                },
                {
                    "$ref": "#/definitions/urlLink"
                },
                {
                    "$ref": "#/definitions/entrezLink"
                }
            ]
        },
        "xrefLink": {
            "$id": "#/definitions/xrefLink",
            "title": "XRef Link",
            "type": "object",
            "required": [
                "xrefDb",
                "xrefId"
            ],
            "properties": {
                "xrefDb": {
                    "type": "string",
                    "title": "Database",
                    "description": "Name of the database or a link where the resource is located at. INSDC controlled vocabulary of permitted cross references.Please see http://www.insdc.org/db_xref.html . For example, FLYBASE."
                },
                "xrefId": {
                    "type": "string",
                    "title": "Database ID",
                    "description": "Accession ID or stable identifier, in the referenced database. For example, FBtr0080008 (in FLYBASE)"
                },
                "label": {
                    "type": "string",
                    "title": "Label",
                    "description": "A text label to identify the xrefLink by."
                }
            }
        },
        "urlLink": {
            "$id": "#/definitions/urlLink",
            "title": "URL Link",
            "type": "object",
            "required": [
                "label",
                "url"
            ],
            "properties": {
                "label": {
                    "type": "string",
                    "title": "Label",
                    "description": "A text label to identify the urlLink by."
                },
                "url": {
                    "type": "string",
                    "title": "URL",
                    "description": "The internet service link (http(s), ftp) etc.",
                    "pattern": "^(https?|ftp)://"
                }
            }
        },
        "entrezLink": {
            "$id": "#/definitions/entrezLink",
            "title": "Entrez Link",
            "type": "object",
            "required": [
                "entrezDb",
                "entrezId"
            ],
            "properties": {
                "entrezDb": {
                    "description": "Entrez Molecular Sequence Database System, NCBI controlled vocabulary of permitted cross references. Also known as Entrez Direct (EDirect) .",
                    "title": "Database",
                    "type": "string",
                    "enum": [
                        "annotinfo",
                        "assembly",
                        "biocollections",
                        "bioproject",
                        "biosample",
                        "biosystems",
                        "blastdbinfo",
                        "books",
                        "cdd",
                        "clinvar",
                        "dbvar",
                        "gap",
                        "gapplus",
                        "gds",
                        "gene",
                        "genome",
                        "geoprofiles",
                        "grasp",
                        "gtr",
                        "homologene",
                        "ipg",
                        "medgen",
                        "mesh",
                        "ncbisearch",
                        "nlmcatalog",
                        "nuccore",
                        "nucleotide",
                        "omim",
                        "orgtrack",
                        "pcassay",
                        "pccompound",
                        "pcsubstance",
                        "pmc",
                        "popset",
                        "protein",
                        "proteinclusters",
                        "protfam",
                        "pubmed",
                        "seqannot",
                        "snp",
                        "sra",
                        "structure",
                        "taxonomy"
                    ]
                },
                "entrezId": {
                    "type": "string",
                    "title": "Database ID",
                    "description": "Numeric record id meaningful to the NCBI Entrez system.",
                    "pattern": "^[a-zA-Z0-9]+"
                },
                "label": {
                    "description": "A text label to identify the url Entrez link by.",
                    "title": "Label",
                    "type": "string"
                }
            }
        },
        "experimentAttribute": {
            "$id": "#/definitions/experimentAttribute",
            "type": "object",
            "title": "Experiment Attribute",
            "required": [
                "tag",
                "value"
            ],
            "properties": {
                "tag": {
                    "type": "string",
                    "title": "Tag title"
                },
                "value": {
                    "type": "string",
                    "title": "Description"
                },
                "units": {
                    "type": "string",
                    "title": "Optional scientific units."
                }
            }
        },
        "pool": {
            "$id": "#/definitions/pool",
            "title": "List of group/pool/multiplex sample members",
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "pool": {
                    "type": "object",
                    "title": "Sample Members",
                    "description": "Identifies a list of group/pool/multiplex sample members. This implies that this sample record is a group, pool, or multiplex, but it continues to receive its own accession and can be referenced by an experiment. By default if no match to any of the listed members can be determined, then the default sample reference is used.",
                    "properties": {
                        "defaultMember": {
                            "type": "object",
                            "title": "Default Member",
                            "$ref": "#/definitions/poolMemberType"
                        },
                        "member": {
                            "type": "object",
                            "title": "Member",
                            "$ref": "#/definitions/poolMemberType"
                        }
                    }
                }
            }
        },
        "poolMemberType": {
            "$id": "#/definitions/poolMemberType",
            "title": "Pool Member Type",
            "type": "object",
            "properties": {
                "readLabel": {
                    "type": "string",
                    "title": "Assignment of read_group_tag to decoded read."
                },
                "memberName": {
                    "type": "string",
                    "title": "Label a sample within a scope of the pool."
                },
                "proportion": {
                    "type": "number",
                    "title": "Proportion of this sample (in percent) that was included in sample pool."
                }
            }
        },
        "libraryType": {
            "$id": "#/definitions/libraryType",
            "type": "object",
            "title": "Library used for experiment design.",
            "required": [
                "designDescription",
                "sampleDescriptor",
                "libraryDescriptor"
            ],
            "properties": {
                "designDescription": {
                    "title": "Design Description",
                    "type": "string",
                    "description": "Goal and setup of the individual library including library was constructed."
                },
                "sampleDescriptor": {
                    "title": "Sample Reference",
                    "description": "Pick a sample to associate this experiment with. The sample may be an individual or a pool, depending on how it is specified.",
                    "oneOf": [
                        {
                            "$ref": "#/definitions/pool"
                        },
                        {
                            "title": "Individual Sample",
                            "$ref": "#/definitions/reference"
                        }
                    ]
                },
                "libraryDescriptor": {
                    "description": "The Library Descriptor specifies the origin of the material being sequenced and any treatments that the material might have undergone that affect the sequencing result. This specification is needed even if the platform does not require a library construction step per se.",
                    "title": "Library Descriptor",
                    "type": "object",
                    "required": [
                        "libraryStrategy",
                        "librarySelection",
                        "librarySource"
                    ],
                    "properties": {
                        "libraryName": {
                            "type": "string",
                            "title": "Library Name"
                        },
                        "libraryStrategy": {
                            "title": "Library Strategy",
                            "description": "Sequencing technique intended for this library.",
                            "type": "string",
                            "enum": [
                                "AMPLICON",
                                "ATAC-seq",
                                "Bisulfite-Seq",
                                "ChIA-PET",
                                "ChIP-Seq",
                                "CLONE",
                                "CLONEEND",
                                "CTS",
                                "DNase-Hypersensitivity",
                                "EST",
                                "FAIRE-seq",
                                "FINISHING",
                                "FL-cDNA",
                                "Hi-C",
                                "MBD-Seq",
                                "MeDIP-Seq",
                                "miRNA-Seq",
                                "MNase-Seq",
                                "MRE-Seq",
                                "ncRNA-Seq",
                                "OTHER",
                                "POOLCLONE",
                                "RAD-Seq",
                                "RIP-Seq",
                                "RNA-Seq",
                                "SELEX",
                                "ssRNA-seq",
                                "snRNA-seq",
                                "Synthetic-Long-Read",
                                "Targeted-Capture",
                                "Tethered Chromatin Conformation Capture",
                                "Tn-Seq",
                                "VALIDATION",
                                "WCS",
                                "WGA",
                                "WGS",
                                "WXS"
                            ]
                        },
                        "librarySource": {
                            "title": "Library Source",
                            "description": "The Library Source specifies the type of source material that is being sequenced.",
                            "type": "string",
                            "enum": [
                                "GENOMIC SINGLE CELL",
                                "GENOMIC",
                                "METAGENOMIC",
                                "METATRANSCRIPTOMIC",
                                "OTHER",
                                "SYNTHETIC",
                                "TRANSCRIPTOMIC SINGLE CELL",
                                "TRANSCRIPTOMIC",
                                "VIRAL RNA"
                            ]
                        },
                        "librarySelection": {
                            "title": "Library Selection",
                            "description": "Method used to enrich the target in the sequence library preparation.",
                            "type": "string",
                            "enum": [
                                "5-methylcytidine antibody",
                                "CAGE",
                                "cDNA_oligo_dT",
                                "cDNA_randomPriming",
                                "cDNA",
                                "ChIP-Seq",
                                "ChIP",
                                "DNase",
                                "HMPR",
                                "Hybrid Selection",
                                "Inverse rRNA selection",
                                "Inverse rRNA",
                                "MBD2 protein methyl-CpG binding domain",
                                "MDA",
                                "MF",
                                "MNase",
                                "MSLL",
                                "Oligo-dT",
                                "padlock probes capture method",
                                "PCR",
                                "PolyA",
                                "RACE",
                                "RANDOM PCR",
                                "RANDOM",
                                "Reduced Representation",
                                "repeat fractionation",
                                "Restriction Digest",
                                "RT-PCR",
                                "size fractionation",
                                "other",
                                "unspecified"
                            ]
                        },
                        "libraryLayout": {
                            "title": "Library Layout",
                            "description": "Library Layout specifies whether to expect single, paired, or other configuration of reads. In the case of paired reads, information about the relative distance and orientation is specified.",
                            "type": "string",
                            "enum": [
                                "single",
                                "paired"
                            ]
                        },
                        "nominalLength": {
                            "title": "Nominal Length",
                            "description": "Nominal Length required if library layout is set to paired",
                            "type": "number",
                            "minimum": 0
                        },
                        "nominalSdev": {
                            "title": "Nominal SDEV",
                            "description": "Nominal SDEV required if library layout is set to paired",
                            "type": "number"
                        },
                        "targetLoci": {
                            "type": "object",
                            "title": "Target Loci",
                            "description": "Names the gene(s) or locus(loci) or other genomic feature(s) targeted by the sequence.",
                            "properties": {
                                "probeSet": {
                                    "type": "string",
                                    "title": "Probe Set",
                                    "description": "Reference to an archived primer or probe set. Example: dbProbe"
                                },
                                "locusName": {
                                    "type": "string",
                                    "title": "Locus Name",
                                    "enum": [
                                        "16S rRNA",
                                        "18S rRNA",
                                        "28S rRNA",
                                        "COX1",
                                        "exome",
                                        "ITS1-5.8S-ITS2",
                                        "matK",
                                        "RBCL",
                                        "other"
                                    ]
                                },
                                "description": {
                                    "title": "Locus Description",
                                    "description": "Submitter supplied description of alternate locus and auxiliary information.",
                                    "type": "string"
                                }
                            }
                        },
                        "poolingStrategy": {
                            "title": "Pooling Strategy",
                            "description": "The optional pooling strategy indicates how the library or libraries are organized if multiple samples are involved.",
                            "type": "string"
                        },
                        "libraryConstructionProtocol": {
                            "title": "Library Construction Protocol",
                            "description": "Free form text describing the protocol by which the sequencing library was constructed.",
                            "type": "string"
                        }
                    }
                },
                "spotDescriptor": {
                    "description": "The spot descriptor specifies how to decode the individual reads of interest from the monolithic spot sequence. The spot descriptor contains aspects of the experimental design, platform, and processing information. There will be two methods of specification: one will be an index into a table of typical decodings, the other being an exact specification. This construct is needed for loading data and for interpreting the loaded runs. It can be omitted if the loader can infer read layout (from multiple input files or from one input files).",
                    "title": "Spot Descriptor",
                    "type": "object",
                    "required": [
                        "readSpec"
                    ],
                    "properties": {
                        "spotLength": {
                            "title": "Spot Length",
                            "description": "Number of base/color calls, cycles, or flows per spot (raw sequence length or flow length including all application and technical tags and mate pairs, but not including gap lengths). This value will be platform dependent, library dependent, and possibly run dependent. Variable length platforms will still have a constant flow/cycle length.",
                            "type": "number",
                            "minimum": 0
                        },
                        "readSpec": {
                            "type": "object",
                            "title": "Read Specification",
                            "properties": {
                                "readIndex": {
                                    "title": "Read Index",
                                    "description": "Read Index starts at 0 and is incrementally increased for each sequential read_spec within a spot decode specification",
                                    "type": "number",
                                    "minimum": 0
                                },
                                "readLabel": {
                                    "title": "Read Label",
                                    "description": "Read Label is a name for this tag, and can be used to on output to determine read name, for example F or R.",
                                    "type": "string"
                                },
                                "readClass": {
                                    "title": "Read Class",
                                    "type": "string",
                                    "enum": [
                                        "Application Read",
                                        "Technical Read"
                                    ]
                                },
                                "readType": {
                                    "title": "Read Type",
                                    "description": "",
                                    "type": "string",
                                    "enum": [
                                        "Forward",
                                        "Reverse",
                                        "Adapter",
                                        "Primer",
                                        "Linker",
                                        "BarCode",
                                        "Other"
                                    ]
                                },
                                "relativeOrder": {
                                    "type": "object",
                                    "title": "Relative Order",
                                    "description": "The read is located beginning at the offset or cycle relative to another read. This choice is appropriate for example when specifying a read that follows a variable length expected sequence(s).",
                                    "properties": {
                                        "followsReadIndex": {
                                            "title": "Follows Read Index",
                                            "type": "number",
                                            "description": "Specify the read index that precedes this read.",
                                            "minimum": 0
                                        },
                                        "precedesReadIndex": {
                                            "title": "Precedes Read Index",
                                            "description": "Specify the read index that follows this read.",
                                            "type": "number",
                                            "minimum": 0
                                        }
                                    }
                                },
                                "baseCoord": {
                                    "title": "Base Coordinate",
                                    "description": "The location of the read start in terms of base count (1 is beginning of spot).",
                                    "type": "number"
                                },
                                "expectedBaseCallTable": {
                                    "title": "Expected Base Call Table",
                                    "description": " A set of choices of expected base calls for a current read. Read will be zero-length if none is found.",
                                    "type": "array",
                                    "items": {
                                        "type": "object",
                                        "properties": {
                                            "baseCall": {
                                                "type": "string",
                                                "description": "Element's body contains a basecall, attribute provide description of this read meaning as well as matching rules.",
                                                "title": "Base Call"
                                            },
                                            "readGroupTag": {
                                                "type": "string",
                                                "description": "When match occurs, the read will be tagged with this group membership.",
                                                "title": "Read Group Tag"
                                            },
                                            "minMatch": {
                                                "type": "number",
                                                "description": " Minimum number of matches to trigger identification.",
                                                "minimum": 0,
                                                "title": "Min Match"
                                            },
                                            "maxMisMatch": {
                                                "description": "Maximum number of mismatches.",
                                                "type": "number",
                                                "minimum": 0,
                                                "title": "Max MisMatch"
                                            },
                                            "matchEdge": {
                                                "description": "Where the match should occur. Changes the rules on how min_match and max_mismatch are counted.",
                                                "type": "string",
                                                "title": "Match Edge"
                                            },
                                            "full": {
                                                "description": "Only @max_mismatch influences matching process.",
                                                "type": "string",
                                                "title": "Full"
                                            },
                                            "start": {
                                                "description": "Both matches and mismatches are counted. When @max_mismatch is exceeded - it is not a match. When @min_match is reached - match is declared. ",
                                                "type": "string",
                                                "title": "Start"
                                            },
                                            "end": {
                                                "description": "Both matches and mismatches are counted. When @max_mismatch is exceeded - it is not a match. When @min_match is reached - match is declared.",
                                                "type": "string",
                                                "title": "End"
                                            },
                                            "defaultLength": {
                                                "description": "Specify whether the spot should have a default length for this tag if the expected base cannot be matched.",
                                                "type": "number",
                                                "minimum": 0,
                                                "title": "Default Length"
                                            },
                                            "baseCoord": {
                                                "description": "Specify an optional starting point for tag (base offset from 1).",
                                                "type": "number",
                                                "minimum": 0,
                                                "title": "Base Coordinate"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "processingType": {
            "$id": "#/definitions/processingType",
            "type": "object",
            "title": "Processing Type",
            "description": "Information about the processing type such as pipeline and sequencing directives.",
            "properties": {
                "pipeline": {
                    "title": "Pipeline",
                    "description": "The Pipeline type identifies the sequence or tree of actions to process the sequencing data.",
                    "type": "object",
                    "properties": {
                        "pipeSection": {
                            "type": "array",
                            "title": "Pipe Section",
                            "items": {
                                "type": "object",
                                "required": [
                                    "stepIndex",
                                    "prevStepIndex",
                                    "program",
                                    "version"
                                ],
                                "properties": {
                                    "stepIndex": {
                                        "type": "string",
                                        "description": "Lexically ordered value that allows for the pipe section to be hierarchically ordered. The primitive data type is used to allow for pipe sections to be inserted later on.",
                                        "title": "Step Index"
                                    },
                                    "prevStepIndex": {
                                        "oneOf": [
                                            {
                                                "title": "Float value",
                                                "type": "string"
                                            },
                                            {
                                                "title": "Null value",
                                                "type": "null"
                                            }
                                        ],
                                        "description": "stepIndex of the previous step in the workflow. Set Null if the first pipe section.",
                                        "title": "Prev Step Index"
                                    },
                                    "program": {
                                        "type": "string",
                                        "description": "Name of the program or process for primary analysis. This may include a test or condition that leads to branching in the workflow.",
                                        "title": "Program"
                                    },
                                    "version": {
                                        "type": "string",
                                        "description": "Version of the program or process for primary analysis. ",
                                        "title": "Version"
                                    },
                                    "notes": {
                                        "type": "string",
                                        "description": "Notes about the program or process for primary analysis. ",
                                        "title": "Notes"
                                    },
                                    "sectionName": {
                                        "type": "string",
                                        "description": "If there are multiple sections specify the name of the processing pipeline section.",
                                        "title": "Section Name"
                                    }
                                }
                            }
                        }
                    }
                },
                "directives": {
                    "type": "object",
                    "title": "Directives",
                    "description": "Processing directives tell the Sequence Read Storage how to treat the input data, if any treatment is requested.",
                    "properties": {
                        "sampleDemuxDirective": {
                            "type": "object",
                            "description": "Tells the Sequence Read Storage who will execute the sample demultiplexing operation.",
                            "title": "Sample Demux Directive",
                            "properties": {
                                "leaveAsPool": {
                                    "type": "string",
                                    "description": "There shall be no sample de-multiplexing at the level of assigning individual reads to sample pool members.",
                                    "title": "Leave As Pool"
                                },
                                "submitterDemultiplexed": {
                                    "type": "string",
                                    "description": "The submitter has assigned individual reads to sample pool members by providing individual files containing reads with the same member assignment.",
                                    "title": "Submitter Demultiplexed"
                                }
                            }
                        }
                    }
                }
            }
        },
        "identifiers": {
            "$id": "#/definitions/identifiers",
            "title": "Identifiers",
            "description": "Identifiers to be used in the International Nucleotide Sequence Database Collaboration (INSDC) namespace.",
            "type": "object",
            "properties": {
                "primaryId": {
                    "type": "string",
                    "description": "A primary identifier in the INSDC namespace.",
                    "title": "Primary Id"
                },
                "secondaryId": {
                    "type": "string",
                    "description": "A secondary identifier in the INSDC namespace.",
                    "title": "Secondary Id"
                },
                "uuid": {
                    "type": "string",
                    "description": "A universally unique identifier that requires no namespace.",
                    "title": "UUID"
                },
                "externalId": {
                    "type": "object",
                    "title": "External Id",
                    "description": "An identifier from a public non-INSDC resource.",
                    "properties": {
                        "namespace": {
                            "type": "string",
                            "title": "Namespace"
                        },
                        "value": {
                            "type": "string",
                            "title": "Identifier"
                        }
                    }
                },
                "submitterId": {
                    "type": "object",
                    "title": "Submitter Id",
                    "description": "A submitter provided identifier.",
                    "properties": {
                        "namespace": {
                            "type": "string",
                            "title": "Namespace"
                        },
                        "value": {
                            "type": "string",
                            "title": "Identifier"
                        }
                    }
                }
            }
        },
        "reference": {
            "$id": "#/definitions/reference",
            "additionalProperties": false,
            "type": "object",
            "properties": {
                "accessionId": {
                    "type": "string",
                    "description": "Identifies a record by its accession. The scope of resolution is the entire Storage.",
                    "title": "Accession Id"
                },
                "refname": {
                    "type": "string",
                    "description": "Identifies an object by name within the namespace defined by attribute refcenter",
                    "title": "Record name"
                },
                "refcenter": {
                    "type": "string",
                    "description": "The namespace of the attribute refname.",
                    "title": "Center Namespace"
                },
                "identifiers": {
                    "$ref": "#/definitions/identifiers"
                }
            }
        }
    },
    "type": "object",
    "description": "An Experiment specifies of what will be sequenced and how the sequencing will be performed. It does not contain results. An Experiment is composed of a design, a platform selection, and processing parameters.",
    "required": [
        "design",
        "studyRef",
        "platform"
    ],
    "properties": {
        "title": {
            "title": "Experiment Title",
            "description": "Short text that can be used to call out experiment records in searches or in displays.",
            "type": "string"
        },
        "description": {
            "title": "Experiment Description",
            "description": "Free-form text describing the data sets.",
            "type": "string"
        },
        "platform": {
            "title": "Platform / Instrument",
            "description": "The PLATFORM record selects which sequencing platform and platform-specific runtime parameters. This will be determined by the Center.",
            "type": "string",
            "enum": [
                "454 GS 20",
                "454 GS FLX Titanium",
                "454 GS FLX",
                "454 GS FLX+",
                "454 GS Junior",
                "454 GS",
                "AB 310 Genetic Analyzer",
                "AB 3130 Genetic Analyzer",
                "AB 3130xL Genetic Analyzer",
                "AB 3500 Genetic Analyzer",
                "AB 3500xL Genetic Analyzer",
                "AB 3730 Genetic Analyzer",
                "AB 3730xL Genetic Analyzer",
                "AB 5500 Genetic Analyzer",
                "AB 5500xl Genetic Analyzer",
                "AB 5500xl-W Genetic Analysis System",
                "AB SOLiD 3 Plus System",
                "AB SOLiD 4 System",
                "AB SOLiD 4hq System",
                "AB SOLiD PI System",
                "AB SOLiD System 2.0",
                "AB SOLiD System 3.0",
                "AB SOLiD System",
                "BGISEQ-50",
                "BGISEQ-500",
                "Complete Genomics",
                "GridION",
                "Helicos HeliScope",
                "HiSeq X Five",
                "HiSeq X Ten",
                "Illumina Genome Analyzer II",
                "Illumina Genome Analyzer IIx",
                "Illumina Genome Analyzer",
                "Illumina HiScanSQ",
                "Illumina HiSeq 1000",
                "Illumina HiSeq 1500",
                "Illumina HiSeq 2000",
                "Illumina HiSeq 2500",
                "Illumina HiSeq 3000",
                "Illumina HiSeq 4000",
                "Illumina HiSeq X",
                "Illumina MiniSeq",
                "Illumina MiSeq",
                "Illumina NovaSeq 6000",
                "Ion GeneStudio S5 Plus",
                "Ion GeneStudio S5 Prime",
                "Ion GeneStudio S5",
                "Ion Torrent Genexus",
                "Ion Torrent PGM",
                "Ion Torrent Proton",
                "Ion Torrent S5 XL",
                "Ion Torrent S5",
                "MGISEQ-2000RS",
                "MinION",
                "NextSeq 500",
                "NextSeq 550",
                "PacBio RS II",
                "PacBio RS",
                "PromethION",
                "Sequel II",
                "Sequel",
                "unspecified"
            ]
        },
        "studyRef": {
            "title": "Study Reference",
            "description": "Identifies the associated study.",
            "$ref": "#/definitions/reference"
        },
        "design": {
            "title": "Design",
            "description": "The library design including library properties, layout, protocol, targeting information, and spot and gap descriptors. ",
            "$ref": "#/definitions/libraryType"
        },
        "processing": {
            "title": "Processing",
            "$ref": "#/definitions/processingType"
        },
        "experimentLinks": {
            "type": "array",
            "title": "Experiment Links",
            "description": "Links to resources related to this experiment or experiment set (publication, datasets, online databases). Used to encode URL links, Entrez links, and xref DB links. ",
            "items": {
                "$ref": "#/definitions/Links"
            }
        },
        "experimentAttributes": {
            "type": "array",
            "title": "Experiment Attributes",
            "description": "Properties and attributes of the data set. These can be entered as free-form tag-value pairs. Submitters may be asked to follow a community established ontology when describing the work.",
            "items": {
                "$ref": "#/definitions/experimentAttribute"
            }
        }
    }
}

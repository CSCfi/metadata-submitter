{
    "title": "Run",
    "definitions": {
        "Links": {
            "$id": "#/definitions/Links",
            "title": "Link Type",
            "oneOf": [
                {
                    "$ref": "#/definitions/xrefLink"
                },
                {
                    "$ref": "#/definitions/urlLink"
                },
                {
                    "$ref": "#/definitions/entrezLink"
                }
            ]
        },
        "xrefLink": {
            "$id": "#/definitions/xrefLink",
            "title": "XRef Link",
            "type": "object",
            "required": [
                "xrefDb",
                "xrefId"
            ],
            "properties": {
                "xrefDb": {
                    "type": "string",
                    "title": "Database",
                    "description": "Name of the database or a link where the resource is located at. INSDC controlled vocabulary of permitted cross references.Please see http://www.insdc.org/db_xref.html . For example, FLYBASE."
                },
                "xrefId": {
                    "type": "string",
                    "title": "Database ID",
                    "description": "Accession ID or stable identifier, in the referenced database. For example, FBtr0080008 (in FLYBASE)"
                },
                "label": {
                    "type": "string",
                    "title": "Label",
                    "description": "A text label to identify the xrefLink by."
                }
            }
        },
        "urlLink": {
            "$id": "#/definitions/urlLink",
            "title": "URL Link",
            "type": "object",
            "required": [
                "label",
                "url"
            ],
            "properties": {
                "label": {
                    "type": "string",
                    "title": "Label",
                    "description": "A text label to identify the urlLink by."
                },
                "url": {
                    "type": "string",
                    "title": "URL",
                    "description": "The internet service link (http(s), ftp) etc.",
                    "pattern": "^(https?|ftp)://"
                }
            }
        },
        "entrezLink": {
            "$id": "#/definitions/entrezLink",
            "title": "Entrez Link",
            "type": "object",
            "required": [
                "entrezDb",
                "entrezId"
            ],
            "properties": {
                "entrezDb": {
                    "description": "Entrez Molecular Sequence Database System, NCBI controlled vocabulary of permitted cross references.",
                    "title": "Database",
                    "type": "string",
                    "enum": [
                        "annotinfo",
                        "assembly",
                        "biocollections",
                        "bioproject",
                        "biosample",
                        "biosystems",
                        "blastdbinfo",
                        "books",
                        "cdd",
                        "clinvar",
                        "dbvar",
                        "gap",
                        "gapplus",
                        "gds",
                        "gene",
                        "genome",
                        "geoprofiles",
                        "grasp",
                        "gtr",
                        "homologene",
                        "ipg",
                        "medgen",
                        "mesh",
                        "ncbisearch",
                        "nlmcatalog",
                        "nuccore",
                        "nucleotide",
                        "omim",
                        "orgtrack",
                        "pcassay",
                        "pccompound",
                        "pcsubstance",
                        "pmc",
                        "popset",
                        "protein",
                        "proteinclusters",
                        "protfam",
                        "pubmed",
                        "seqannot",
                        "snp",
                        "sra",
                        "structure",
                        "taxonomy"
                    ]
                },
                "entrezId": {
                    "type": "string",
                    "title": "Database ID",
                    "description": "Numeric record id meaningful to the NCBI Entrez system.",
                    "pattern": "^[a-zA-Z0-9]+"
                },
                "label": {
                    "description": "A text label to identify the url Entrez link by.",
                    "title": "Label",
                    "type": "string"
                }
            }
        },
        "runAttribute": {
            "$id": "#/definitions/runAttribute",
            "type": "object",
            "title": "Run Attribute",
            "required": [
                "tag",
                "value"
            ],
            "properties": {
                "tag": {
                    "type": "string",
                    "title": "Tag title"
                },
                "value": {
                    "type": "string",
                    "title": "Description"
                },
                "units": {
                    "type": "string",
                    "title": "Optional scientific units."
                }
            }
        },
        "processingType": {
            "$id": "#/definitions/processingType",
            "type": "object",
            "title": "Processing Type",
            "description": "Information about the processing type such as pipeline and sequencing directives.",
            "properties": {
                "pipeline": {
                    "title": "Pipeline",
                    "description": "The Pipeline type identifies the sequence or tree of actions to process the sequencing data.",
                    "type": "object",
                    "required": [
                        "pipeSection"
                    ],
                    "properties": {
                        "pipeSection": {
                            "type": "array",
                            "title": "Pipe Section",
                            "items": {
                                "type": "object",
                                "required": [
                                    "stepIndex",
                                    "prevStepIndex",
                                    "program",
                                    "version"
                                ],
                                "properties": {
                                    "stepIndex": {
                                        "type": "string",
                                        "description": "Lexically ordered value that allows for the pipe section to be hierarchically ordered. The primitive data type is used to allow for pipe sections to be inserted later on.",
                                        "title": "Step Index"
                                    },
                                    "prevStepIndex": {
                                        "oneOf": [
                                            {
                                                "title": "Float value",
                                                "type": "string"
                                            },
                                            {
                                                "title": "Null value",
                                                "type": "null"
                                            }
                                        ],
                                        "description": "stepIndex of the previous step in the workflow. Set Null if the first pipe section.",
                                        "title": "Prev Step Index"
                                    },
                                    "program": {
                                        "type": "string",
                                        "description": "Name of the program or process for primary analysis. This may include a test or condition that leads to branching in the workflow.",
                                        "title": "Program"
                                    },
                                    "version": {
                                        "type": "string",
                                        "description": " Version of the program or process for primary analysis. ",
                                        "title": "Version"
                                    },
                                    "notes": {
                                        "type": "string",
                                        "description": "Notes about the program or process for primary analysis. ",
                                        "title": "Notes"
                                    },
                                    "sectionName": {
                                        "type": "string",
                                        "description": "If there are multiple sections specify the name of the processing pipeline section.",
                                        "title": "Section Name"
                                    }
                                }
                            }
                        }
                    }
                },
                "directives": {
                    "type": "object",
                    "title": "Directives",
                    "description": "Processing directives tell the Sequence Read Archive how to treat the input data, if any treatment is requested.",
                    "properties": {
                        "sampleDemuxDirective": {
                            "type": "object",
                            "description": "Tells the Archive who will execute the sample demultiplexing operation.",
                            "title": "Sample Demux Directive",
                            "properties": {
                                "leaveAsPool": {
                                    "type": "string",
                                    "description": "There shall be no sample de-multiplexing at the level of assigning individual reads to sample pool members.",
                                    "title": "Leave As Pool"
                                },
                                "submitterDemultiplexed": {
                                    "type": "string",
                                    "description": "The submitter has assigned individual reads to sample pool members by providing individual files containing reads with the same member assignment.",
                                    "title": "Submitter Demultiplexed"
                                }
                            }
                        }
                    }
                }
            }
        },
        "identifiers": {
            "$id": "#/definitions/identifiers",
            "title": "Identifiers",
            "type": "object",
            "properties": {
                "primaryId": {
                    "type": "string",
                    "title": "Primary Id"
                },
                "secondaryId": {
                    "type": "string",
                    "title": "Secondary Id"
                },
                "uuid": {
                    "type": "string",
                    "title": "UUID"
                },
                "externalId": {
                    "type": "object",
                    "title": "External Id",
                    "properties": {
                        "namespace": {
                            "type": "string",
                            "title": "Namespace"
                        },
                        "value": {
                            "type": "string",
                            "title": "Identifier"
                        }
                    }
                },
                "submitterId": {
                    "type": "object",
                    "title": "Submitter Id",
                    "properties": {
                        "namespace": {
                            "type": "string",
                            "title": "Namespace"
                        },
                        "value": {
                            "type": "string",
                            "title": "Identifier"
                        }
                    }
                }
            }
        },
        "reference": {
            "$id": "#/definitions/reference",
            "additionalProperties": true,
            "type": "object",
            "properties": {
                "label": {
                    "type": "string",
                    "title": "Label"
                },
                "refname": {
                    "type": "string",
                    "title": "Record name"
                },
                "refcenter": {
                    "type": "string",
                    "title": "Center Namespace"
                },
                "accessionId": {
                    "type": "string",
                    "title": "Accession Id"
                },
                "identifiers": {
                    "$ref": "#/definitions/identifiers"
                }
            }
        },
        "file": {
            "$id": "#/definitions/file",
            "type": "object",
            "title": "File",
            "required": [
                "filename",
                "filetype",
                "checksumMethod",
                "checksum"
            ],
            "properties": {
                "filename": {
                    "type": "string",
                    "title": "filename"
                },
                "filetype": {
                    "type": "string",
                    "title": "filetype",
                    "enum": [
                        "agp",
                        "bai",
                        "bam",
                        "bcf",
                        "bed",
                        "BioNano_native",
                        "chromosome_list",
                        "crai",
                        "cram",
                        "fasta",
                        "fastq",
                        "flatfile",
                        "gff",
                        "info",
                        "Kallisto_native",
                        "manifest",
                        "phenotype_file",
                        "readme_file",
                        "sample_list",
                        "sff",
                        "sra",
                        "srf",
                        "tab",
                        "tabix",
                        "unlocalised_list",
                        "vcf_aggregate",
                        "vcf",
                        "wig",
                        "other"
                    ]
                },
                "checksumMethod": {
                    "type": "string",
                    "title": "checksumMethod",
                    "enum": [
                        "MD5",
                        "SHA-256"
                    ]
                },
                "readLabel": {
                    "title": "Read Label",
                    "type": "string"
                },
                "readType": {
                    "title": "Read Type",
                    "type": "string",
                    "enum": [
                        "cell_barcode",
                        "feature_barcode",
                        "paired",
                        "sample_barcode",
                        "single",
                        "umi_barcode",
                        "Other"
                    ]
                },
                "checksum": {
                    "type": "string",
                    "title": "checksum"
                }
            }
        }
    },
    "type": "object",
    "description": "A run contains a group of reads generated for a particular experiment.",
    "required": [
        "experimentRef"
    ],
    "properties": {
        "title": {
            "title": "Run Title",
            "description": "Short text that can be used to define submissions in searches or in displays.",
            "type": "string"
        },
        "description": {
            "title": "Run Description",
            "description": "Free-form text describing the data sets.",
            "type": "string"
        },
        "runType": {
            "title": "Run Type",
            "type": "object",
            "description": "Type of Run.",
            "properties": {
                "referenceAlignment": {
                    "type": "object",
                    "title": "Reference Alignment",
                    "additionalProperties": true,
                    "properties": {
                        "assembly": {
                            "type": "object",
                            "title": "Reference assembly details",
                            "oneOf": [
                                {
                                    "type": "object",
                                    "title": "Standard",
                                    "required": [
                                        "accessionId"
                                    ],
                                    "properties": {
                                        "refname": {
                                            "type": "string",
                                            "title": "Reference name"
                                        },
                                        "accessionId": {
                                            "type": "string",
                                            "title": "Accession Id"
                                        }
                                    }
                                },
                                {
                                    "type": "object",
                                    "title": "Custom",
                                    "required": [
                                        "description"
                                    ],
                                    "properties": {
                                        "label": {
                                            "type": "string",
                                            "title": "Label",
                                            "description": "Text label to display for the link."
                                        },
                                        "url": {
                                            "type": "string",
                                            "title": "URL",
                                            "description": "The internet service link (http(s), ftp) etc.",
                                            "pattern": "^(https?|ftp)://"
                                        },
                                        "description": {
                                            "type": "string",
                                            "title": "Description"
                                        }
                                    }
                                }
                            ]
                        },
                        "sequence": {
                            "type": "array",
                            "title": "Sequence",
                            "items": {
                                "type": "object",
                                "required": [
                                    "accessionId"
                                ],
                                "additionalProperties": true,
                                "properties": {
                                    "label": {
                                        "type": "string",
                                        "title": "Label"
                                    },
                                    "accessionId": {
                                        "type": "string",
                                        "title": "Accession Id"
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "runDate": {
            "title": "Run Date",
            "description": "Date when the run took place",
            "type": "string",
            "format": "date-time"
        },
        "runCenter": {
            "title": "Run Center",
            "description": "If applicable, the name of the contract sequencing center that executed the run.",
            "type": "string"
        },
        "experimentRef": {
            "title": "Experiment Reference",
            "description": "Identifies the associated experiment.",
            "maxItems": 1,
            "type": "array",
            "items": {
                "$ref": "#/definitions/reference"
            }
        },
        "spotDescriptor": {
            "description": "The spot descriptor specifies how to decode the individual reads of interest from the monolithic spot sequence. The spot descriptor contains aspects of the experimental design, platform, and processing information. There will be two methods of specification: one will be an index into a table of typical decodings, the other being an exact specification. This construct is needed for loading data and for interpreting the loaded runs. It can be omitted if the loader can infer read layout (from multiple input files or from one input files).",
            "title": "Spot Descriptor",
            "type": "object",
            "required": [
                "readSpec"
            ],
            "properties": {
                "spotLength": {
                    "title": "Spot Length",
                    "type": "number",
                    "minimum": 0
                },
                "readSpec": {
                    "type": "object",
                    "title": "Read Specification",
                    "properties": {
                        "readIndex": {
                            "title": "Read Index",
                            "type": "number",
                            "minimum": 0
                        },
                        "readLabel": {
                            "title": "Read Label",
                            "type": "string"
                        },
                        "readClass": {
                            "title": "Read Class",
                            "type": "string",
                            "enum": [
                                "Application Read",
                                "Technical Read"
                            ]
                        },
                        "readType": {
                            "title": "Read Type",
                            "type": "string",
                            "enum": [
                                "cell_barcode",
                                "feature_barcode",
                                "paired",
                                "sample_barcode",
                                "single",
                                "umi_barcode",
                                "Other"
                            ]
                        },
                        "relativeOrder": {
                            "type": "object",
                            "title": "Relative Order",
                            "properties": {
                                "followsReadIndex": {
                                    "title": "Read Index",
                                    "type": "number",
                                    "minimum": 0
                                },
                                "precedesReadIndex": {
                                    "title": "Read Index",
                                    "type": "number",
                                    "minimum": 0
                                }
                            }
                        },
                        "baseCoord": {
                            "title": "Base Coordinate",
                            "type": "number"
                        },
                        "expectedBaseCallTable": {
                            "title": "Expected Base Call Table",
                            "type": "array",
                            "items": {
                                "type": "object",
                                "properties": {
                                    "baseCall": {
                                        "type": "string"
                                    },
                                    "readGroupTag": {
                                        "type": "string"
                                    },
                                    "minMatch": {
                                        "type": "number",
                                        "minimum": 0
                                    },
                                    "maxMisMatch": {
                                        "type": "number",
                                        "minimum": 0
                                    },
                                    "matchEdge": {
                                        "type": "string"
                                    },
                                    "defaultLength": {
                                        "type": "number",
                                        "minimum": 0
                                    },
                                    "baseCoord": {
                                        "type": "number",
                                        "minimum": 0
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "platform": {
            "title": "Platform / Instrument",
            "description": " The PLATFORM record selects which sequencing platform and platform-specific runtime parameters. This will be determined by the Center.",
            "type": "string",
            "enum": [
                "454 GS 20",
                "454 GS FLX Titanium",
                "454 GS FLX",
                "454 GS FLX+",
                "454 GS Junior",
                "454 GS",
                "AB 310 Genetic Analyzer",
                "AB 3130 Genetic Analyzer",
                "AB 3130xL Genetic Analyzer",
                "AB 3500 Genetic Analyzer",
                "AB 3500xL Genetic Analyzer",
                "AB 3730 Genetic Analyzer",
                "AB 3730xL Genetic Analyzer",
                "AB 5500 Genetic Analyzer",
                "AB 5500xl Genetic Analyzer",
                "AB 5500xl-W Genetic Analysis System",
                "AB SOLiD 3 Plus System",
                "AB SOLiD 4 System",
                "AB SOLiD 4hq System",
                "AB SOLiD PI System",
                "AB SOLiD System 2.0",
                "AB SOLiD System 3.0",
                "AB SOLiD System",
                "BGISEQ-50",
                "BGISEQ-500",
                "Complete Genomics",
                "GridION",
                "Helicos HeliScope",
                "HiSeq X Five",
                "HiSeq X Ten",
                "Illumina Genome Analyzer II",
                "Illumina Genome Analyzer IIx",
                "Illumina Genome Analyzer",
                "Illumina HiScanSQ",
                "Illumina HiSeq 1000",
                "Illumina HiSeq 1500",
                "Illumina HiSeq 2000",
                "Illumina HiSeq 2500",
                "Illumina HiSeq 3000",
                "Illumina HiSeq 4000",
                "Illumina HiSeq X",
                "Illumina MiniSeq",
                "Illumina MiSeq",
                "Illumina NovaSeq 6000",
                "Ion GeneStudio S5 Plus",
                "Ion GeneStudio S5 Prime",
                "Ion GeneStudio S5",
                "Ion Torrent Genexus",
                "Ion Torrent PGM",
                "Ion Torrent Proton",
                "Ion Torrent S5 XL",
                "Ion Torrent S5",
                "MGISEQ-2000RS",
                "MinION",
                "NextSeq 500",
                "NextSeq 550",
                "PacBio RS II",
                "PacBio RS",
                "PromethION",
                "Sequel II",
                "Sequel",
                "unspecified"
            ]
        },
        "processing": {
            "title": "Processing",
            "type": "object",
            "$ref": "#/definitions/processingType"
        },
        "files": {
            "type": "array",
            "title": "Files",
            "items": {
                "$ref": "#/definitions/file"
            }
        },
        "runLinks": {
            "type": "array",
            "title": "Run Links",
            "description": "Links to resources related to this experiment or experiment set (publication, datasets, online databases). Used to encode URL links, Entrez links, and xref DB links. ",
            "items": {
                "$ref": "#/definitions/Links"
            }
        },
        "runAttributes": {
            "type": "array",
            "title": "Run Attributes",
            "description": "Properties and attributes of the data set. These can be entered as free-form tag-value pairs. Submitters may be asked to follow a community established ontology when describing the work.",
            "items": {
                "$ref": "#/definitions/runAttribute"
            }
        }
    }
}